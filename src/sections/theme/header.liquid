<header id="header" class="c-header" aria-label="Header">
  <div id="headerBar" class="c-headerBar">
    <div class="headerBar__container o-container--large">
      {% if section.settings.bar_show_icon_left %}
        <i class="c-headerBar__icon {{ section.settings.bar_icon_left }}"></i>
      {% endif %}
      {{ section.settings.bar_text }}
      {% if section.settings.bar_show_icon_left %}
        <i class="c-headerBar__icon {{ section.settings.bar_icon_right }}"></i>
      {% endif %}
    </div>
  </div>
  <div id="headerMain" class="c-headerMain">
    <div class="c-headerMain__container o-container--large">
      <button class="c-headerMain__menu trigger-sidemenu" aria-label="Toggle Menu">
        <span class="c-headerMain__burger trigger-sidemenu-icon">
          {% include 'icon-burger' %}
        </span>
        <span class="c-headerMain__close trigger-sidemenu-icon u-hidden">
          {% include 'icon-close' %}
        </span>
      </button>
      <a class="c-headerMain__logo" href="/" title="Home">
        <img class="c-headerMain__logoIcon" src="{{ section.settings.main_logo | asset_url }}"  alt="{{ shop.name }}" />
      </a>
      <button class="c-headerMain__cart trigger-cart-open" aria-label="Toggle Cart">
        {% include 'icon-cart' %}
        <span class="c-headerMain__cartCount data-cart-count">
          {{ cart.item_count }}
        </span>
      </button>
    </div>
  </div>
  <div id="headerNav" class="c-headerNav">
    <div class="headerNav__container o-container--large">
      <nav class="c-headerNav__nav" role="navigation" aria-label="Main Navigation">
        <div class="c-headerNav__account trigger-nav-account">
          <button class="c-headerNav__burger" aria-label="Toggle Menu">
            {% include 'icon-burger' %}
          </button>
          <ul class="c-headerNav__drop" id="nav-account">
            {% for nav in linklists[section.settings.main_account].links %}
              {% if customer and nav.title == 'User' %}
                {% assign account_nav = nav %}
              {% else %}
                {% assign account_nav = nav %}
              {% endif %}
            {% endfor %}
            {% for link in account_nav.links %}
              <li class="c-headerNav__dropItem">
                <a class="c-headerNav__dropLink" href="{{ link.url }}" title="{{ link.title }}">
                  {{ link.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        </div>
        <ul class="c-headerNav__list">
          {% for nav in linklists[section.settings.main_nav].links %}
            <li class="c-headerNav__item">
              {% if nav.links.size <= 0 %}
                <a class="c-headerNav__link" href="{{ nav.url }}" title="{{ nav.title }}">
                  {{ nav.title }}
                </a>
              {% else %}
                <span class="c-headerNav__link" aria-label="{{ nav.title }} Dropdown">
                  {{ nav.title }}
                </span>
                <ul class="c-headerNav__drop">
                  {% for link in nav.links %}
                    <li class="c-headerNav__dropItem">
                      <a class="c-headerNav__dropLink" href="{{ link.url }}" title="{{ link.title }}">
                        {{ link.title }}
                      </a>
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
        <a class="c-headerNav__cart trigger-cart-open">
          {% include 'icon-cart' %}
          <span class="c-headerNav__cartCount data-cart-count">
            {{ cart.item_count }}
          </span>
        </a>
      </nav>
    </div>
  </div>
</header>

<script src="{{ 'header.js' | asset_url }}" defer="defer"></script>

{% schema %}
{
	"name": "Header",
	"settings": [
    {
      "type": "header",
      "content": "Header Bar"
    },
    {
      "type": "checkbox",
      "id": "bar_show_icon_left",
      "label": "Show Icon Left",
      "default": true
    },
    {
      "type": "text",
      "id": "bar_icon_left",
      "label": "Icon Left",
      "info": "FontAwesome class",
      "default": "fas fa-heart"
    },
    {
      "type": "text",
      "id": "bar_text",
      "label": "Text",
      "default": "100% profits to shelters"
    },
    {
      "type": "checkbox",
      "id": "bar_show_icon_right",
      "label": "Show Icon Right",
      "info": "FontAwesome class",
      "default": true
    },
    {
      "type": "text",
      "id": "bar_icon_right",
      "label": "Icon Right Class",
      "default": "fas fa-heart"
    },
    {
      "type": "header",
      "content": "Header Main"
    },
    {
      "type": "text",
      "id": "main_logo",
      "label": "Logo",
      "info": "Asset file",
      "default": "logo.svg"
    },
    {
      "type": "link_list",
      "id": "main_account",
      "label": "Account Navigation"
    },
    {
      "type": "link_list",
      "id": "main_nav",
      "label": "Main Navigation"
    }
  ]
}
{% endschema %}

